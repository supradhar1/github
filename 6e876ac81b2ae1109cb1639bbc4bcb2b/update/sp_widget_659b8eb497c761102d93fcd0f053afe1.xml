<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script/>
        <controller_as>c</controller_as>
        <css>.home-container1 {
  width: 100%;
  height: 97px;
  display: flex;
  position: relative;
  align-items: center;
  justify-content: center;
}
.home-text {
  color:green;
  font-style: normal ;
  text-align: center;
  font-weight: 700;
  text-transform: uppercase;
}
@media(max-width: 767px) {
  .home-text {
    font-size: 40px;
  }
}

.h1{
color: black;
text-align: center;
  font-weight:20px;
 }




.a{
  color:white;
  font-weight:bold;
  font-size:12px;
}

.h1 {
  text-align: center;
}

.button {
  display: inline-block;  
  padding: .85rem 1.55rem;
  background-color: white;
  color: black;
  text-decoration: none;
  border: 2px solid #4ac0ee;
  border-radius: 5px;
  transition: all .15s ease-out;
   justify-content: center;
}

.button:hover {
  background-color: transparent;
  color: green;
}

.button:focus {
  outline: none;
  box-shadow: 0 0 0 2px #4ac0ee;
}

</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>home</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>home</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
 var c = this;
	var userGr = new GlideRecord('sys_user');
  userGr.get(gs.getUserID());

 

  var username = userGr.getValue('name');
	c.data.username = username;
})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>CC-Harsha</sys_created_by>
        <sys_created_on>2023-05-24 09:19:03</sys_created_on>
        <sys_id>659b8eb497c761102d93fcd0f053afe1</sys_id>
        <sys_mod_count>103</sys_mod_count>
        <sys_name>home</sys_name>
        <sys_package display_value="AuctionArc" source="x_1046400_auction">6e876ac81b2ae1109cb1639bbc4bcb2b</sys_package>
        <sys_policy/>
        <sys_scope display_value="AuctionArc">6e876ac81b2ae1109cb1639bbc4bcb2b</sys_scope>
        <sys_update_name>sp_widget_659b8eb497c761102d93fcd0f053afe1</sys_update_name>
        <sys_updated_by>CC-Harsha</sys_updated_by>
        <sys_updated_on>2023-06-14 11:15:27</sys_updated_on>
        <template><![CDATA[
    <div class="home-container1">
      <h1 class="home-text">
        <br />
        <span>█▓▒▒░░░WELCOME {{data.username}}░░░▒▒▓█</span>
        <br />
      </h1>
    </div>


<div class="h1">
  
  TOP SOLD ITEMS
  
</div>




<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    /* Styles for the carousel */
    /* ... */
  </style>
</head>
<body>
  <div class="options">
    <!-- The carousel options will be dynamically populated here -->
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    $(document).ready(function() {
      var optionsContainer = $(".options");
      var activeIndex = 0;

      function setActiveCard(index) {
        optionsContainer.find('.option').removeClass("active");
        optionsContainer.find('.option').eq(index).addClass("active");
      }

      function updateActiveCard() {
        // Fetch bid data from your backend or ServiceNow widget
        $.ajax({
          url: 'https://dev59662.service-now.com/arc/?id=all_bids',
          method: 'GET',
          success: function(response) {
            var myBids = response.bids; // Assuming the response contains an array of bids

            // Create the carousel options dynamically
            var carouselOptions = myBids.map(function(bid) {
              var option = $('<div class="option"></div>');
              option.css('background-image', `url('${bid.image}')`);
              option.append('<div class="shadow"></div>');
              option.append('<div class="label">' +
                '<div class="icon"><i class=""></i></div>' +
                '<div class="info">' +
                `<div class="a">${bid.name}</div>` +
                `<div class="a">${bid.price}</div>` +
                '</div>' +
                '</div>');
              return option;
            });

            // Clear existing options and add the new ones
            optionsContainer.empty().append(carouselOptions);

            setActiveCard(activeIndex);

            setInterval(function() {
              activeIndex = (activeIndex + 1) % carouselOptions.length;
              setActiveCard(activeIndex);
            }, 3000);
          },
          error: function(error) {
            console.error('Failed to fetch bid data:', error);
          }
        });
      }

      updateActiveCard();
    });
  </script>
</body>
]]></template>
    </sp_widget>
</record_update>
