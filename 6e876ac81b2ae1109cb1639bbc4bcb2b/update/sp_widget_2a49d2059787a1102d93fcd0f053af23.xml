<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($scope,$location) {

 

    $scope.openModal = function(sysId){

 

        $location.search({id:'items&sysId=' + sysId });

 

    }

 

};]]></client_script>
        <controller_as>c</controller_as>
        <css>.widget {
  padding: 10px;
  width: 450px;
  background: linear-gradient(45deg, #e6e6e6, #f2f2f2);
  border-radius: 10px;


}



.container {
  display: flex;
  flex-direction: column;

}



.data-frame {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}



.image-container {
  width: 100px;
  height: 100px;
  overflow: hidden;
  margin-right: 20px;
  border-radius: 10px;
}



.image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}



.text-container {
  flex-grow: 1;
}



.text-container h3 {
  font-size: 18px;
  margin-bottom: 5px;
}



.text-container p {
  font-size: 14px;
  margin: 5px 0;
}



.bid-button {
  background-color: #4ac0ee;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  font-weight: bold;
  text-transform: uppercase;
  cursor:pointer;
}

.bid-button disabled{
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
  

}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>auction</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Auction</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
    /* populate the 'data' object */
    /* e.g., data.table = $sp.getValue('table'); */

 

 

 


    data.records = [];

 

 

    var itemGr = new GlideRecord('x_1046400_auction_auction');
    itemGr.orderBy('start_time');
    itemGr.query();
    var field = 'state';
    while(itemGr.next()){
        var record = {};
        record.name = itemGr.getValue('name');
        record.starttime = itemGr.getValue('start_time');
        record.endtime= itemGr.getValue('end_time');        
        record.state = itemGr.getDisplayValue('state');
        record.sysId = itemGr.getValue('sys_id');

 

        console.log(record.sysId);

 

 


        data.records.push(record);
    } 
})();

 ]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>CC-Supradhar</sys_created_by>
        <sys_created_on>2023-05-25 04:57:24</sys_created_on>
        <sys_id>2a49d2059787a1102d93fcd0f053af23</sys_id>
        <sys_mod_count>295</sys_mod_count>
        <sys_name>Auction</sys_name>
        <sys_package display_value="AuctionArc" source="x_1046400_auction">6e876ac81b2ae1109cb1639bbc4bcb2b</sys_package>
        <sys_policy/>
        <sys_scope display_value="AuctionArc">6e876ac81b2ae1109cb1639bbc4bcb2b</sys_scope>
        <sys_update_name>sp_widget_2a49d2059787a1102d93fcd0f053af23</sys_update_name>
        <sys_updated_by>CC-Harsha</sys_updated_by>
        <sys_updated_on>2023-06-06 08:58:44</sys_updated_on>
        <template><![CDATA[<div class="widget" ng-repeat="data in data.records">
<div class="container">
<div class="data-frame" >
<div class="image-container" >
<img src="path_to_image{{ $index + 1 }}.jpg" alt="Image {{ $index + 1 }}">
</div>
<div class="text-container">
 
<h3>{{ data.name }}</h3>
<p>Start Time: {{ data.starttime }}</p>
<p>End Time: {{ data.endtime }}</p>
<p>Status: {{ data.state }}</p>
 <a href="?id=items&sysId={{ data.sysId }}">
<button class="btn btn-primary bid-button" ng-if="data.state != 'Closed' && data.state !='Yet to open'">View</button>
</a>
</div>
</div><br>
</div>
</div>]]></template>
    </sp_widget>
</record_update>
